(this["webpackJsonpremake-library"]=this["webpackJsonpremake-library"]||[]).push([[0],{108:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(55),l=a.n(s),o=(a(92),a(56)),c=a(57),u=a(67),i=a(65),m=(a(93),a(25)),d=a(85),h=a(48),b=a(74),p=a.n(b),f=a(126);p.a.initializeApp({apiKey:"AIzaSyAvFCZfxzMzT_7eJIkjKpyOFdiKP_RKbv0",authDomain:"test-e8e2a.firebaseapp.com",databaseURL:"https://test-e8e2a.firebaseio.com",projectId:"test-e8e2a",storageBucket:"test-e8e2a.appspot.com",messagingSenderId:"551986845582",appId:"1:551986845582:web:89ca97179999d1b13db6df",measurementId:"G-P398HFGLMQ"});var g=p.a.database(),k=g,v=a(84),E=a(51),N=a(82);var y=Object(E.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get tasks":return t.tasks;case"add task":return[].concat(Object(v.a)(e),[t.task]);case"remove task":return e.filter((function(e){return e.id!==t.task.id}));case"update task":return e.map((function(e){return e.id===t.task.id&&(e=Object.assign({},t.task)),e}));default:return e}}),Object(E.a)(N.a)),O=Object(m.b)(null,(function(e){return function(e){k.ref("/").on("child_added",(function(t){e({type:"add task",task:t.val()})}))}(e),{}}))((function(e){var t=Object(d.a)({initialValues:{name:"",author:"",length:"",status:""},validationSchema:h.a({name:h.b().min(3,"Must be at least 3 characters long").max(15,"Must be shorten than 15 characters").required("Required"),author:h.b().min(3,"Must be at least 3 characters long").max(15,"Must be shorten than 15 characters").required("Required"),length:h.b().matches(/^[0-9]*$/,"Must be a number").required("Required"),status:h.b().required("Required")}),onSubmit:function(e){!function(e){var t=Object(f.a)();g.ref("/".concat(t)).set({task:e.name,author:e.author,length:e.length,status:e.status,id:t})}({name:e.name,author:e.author,length:e.length,status:e.status})}});return r.a.createElement("form",{className:!0===e.colapsed?"aside-form hidden":"aside-form",onSubmit:t.handleSubmit},r.a.createElement("label",{htmlFor:"name",className:t.errors.name?"label-error":null},"Book name",t.touched.name&&t.errors.name?r.a.createElement("div",{className:"error"},t.errors.name):null),r.a.createElement("input",Object.assign({className:t.errors.name?"input-error":null,id:"name",type:"text"},t.getFieldProps("name"))),r.a.createElement("label",{htmlFor:"author",className:t.errors.author?"label-error":null},"Author name",t.touched.author&&t.errors.author?r.a.createElement("p",{className:"error"},t.errors.author):null),r.a.createElement("input",Object.assign({className:t.errors.author?"input-error":null,onChange:t.handleChange,id:"author",type:"text"},t.getFieldProps("author"))),r.a.createElement("label",{className:t.errors.length?"label-error":null,htmlFor:"length"},"Book length",t.touched.length&&t.errors.length?r.a.createElement("p",{className:"error"},t.errors.length):null),r.a.createElement("input",Object.assign({className:t.errors.length?"input-error":null,id:"length",type:"text"},t.getFieldProps("length"))),r.a.createElement("div",{className:"radio-btn-container"},r.a.createElement("label",{className:t.errors.status?"label-error":null},"Did u read the book?",t.touched.status&&t.errors.status?r.a.createElement("div",{className:"error"},t.errors.status):null),r.a.createElement("div",{className:"RadioButton"},r.a.createElement("input",{id:"1",name:"status",onChange:t.handleChange,value:"Yes",type:"radio",defaultChecked:"Yes"===t.values.gender}),r.a.createElement("label",{htmlFor:"1"},"Yes")),r.a.createElement("div",{className:"RadioButton"},r.a.createElement("input",{id:"2",name:"status",onChange:t.handleChange,value:"No",type:"radio",defaultChecked:"No"===t.values.gender}),r.a.createElement("label",{htmlFor:"2"},"No"))),r.a.createElement("button",{className:"submit-book-button",type:"submit"},"Submit"))})),j=a(83),C=a.n(j),B=(a(108),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).showOrHide=function(){var e=document.querySelector(".Aside"),t=document.querySelector(".Aside-header");e.classList.toggle("colapsed"),t.classList.toggle("header-colapsed"),n.setState({colapsed:!n.state.colapsed})},n.state={colapsed:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("aside",{className:"Aside"},r.a.createElement("div",{className:"Aside-header"},r.a.createElement("h1",{className:"Aside-title"},"Add book"),r.a.createElement("div",{className:"Aside-switch",onClick:this.showOrHide},r.a.createElement(C.a,null))),r.a.createElement("div",null,r.a.createElement(O,{colapsed:this.state.colapsed})))}}]),a}(r.a.Component)),A=(a(111),a(112),Object(m.b)(null,(function(e){return function(e){k.ref("/").on("child_removed",(function(t){e({type:"remove task",task:t.val()})}))}(e),function(e){k.ref("/").on("child_changed",(function(t){e({type:"update task",task:t.val()})}))}(e),{}}))((function(e){return r.a.createElement("div",{className:"Book"},r.a.createElement("h2",{className:"Book-title"},e.name),r.a.createElement("p",{className:"Book-author"},"Author: ",e.author),r.a.createElement("p",{className:"Book-lenght"},"Pages: ",e.length),r.a.createElement("p",{className:"Book-status"},"Readed: ",e.status),r.a.createElement("div",{className:"Book-btn-container"},r.a.createElement("button",{className:"Book-btn change",onClick:function(){return t=e.id,a=e.status,void g.ref("/".concat(t)).update({status:"Yes"===a?"No":"Yes"});var t,a}},"Change Status"),r.a.createElement("button",{className:"Book-btn",onClick:function(){return t=e.id,void g.ref("/".concat(t)).remove();var t}},"Delete book")))}))),F=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("main",{className:"Main"},this.props.tasks.map((function(e){return r.a.createElement(A,{key:e.id,id:e.id,name:e.task,author:e.author,length:e.length,status:e.status})})))}}]),a}(r.a.Component),S=Object(m.b)((function(e){return{tasks:e}}),(function(e){return e((function(e){var t=[];k.ref("/").once("value",(function(e){e.forEach((function(e){var a=e.val();t.push(a)}))})).then((function(){return e(function(e){return{type:"get tasks",tasks:e}}(t))}))})),{}}))(F),q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B,null),r.a.createElement(S,null))};l.a.render(r.a.createElement(m.a,{store:y},r.a.createElement(q,null)),document.getElementById("root"))},87:function(e,t,a){e.exports=a(114)},92:function(e,t,a){},93:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.28399d32.chunk.js.map