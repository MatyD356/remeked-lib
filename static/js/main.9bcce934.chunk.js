(this["webpackJsonpremake-library"]=this["webpackJsonpremake-library"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(51),o=a.n(s),l=(a(85),a(86),a(23)),u=a(76),c=a(45),i=a(66),m=a.n(i),d=a(107);m.a.initializeApp({apiKey:"AIzaSyAvFCZfxzMzT_7eJIkjKpyOFdiKP_RKbv0",authDomain:"test-e8e2a.firebaseapp.com",databaseURL:"https://test-e8e2a.firebaseio.com",projectId:"test-e8e2a",storageBucket:"test-e8e2a.appspot.com",messagingSenderId:"551986845582",appId:"1:551986845582:web:89ca97179999d1b13db6df",measurementId:"G-P398HFGLMQ"});var h=m.a.database(),b=h,p=a(77),f=a(47),g=a(73);var k=Object(f.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get tasks":return t.tasks;case"add task":return[].concat(Object(p.a)(e),[t.task]);case"remove task":return e.filter((function(e){return e.id!==t.task.id}));case"update task":return e.map((function(e){return e.id===t.task.id&&(e=Object.assign({},t.task)),e}));default:return e}}),Object(f.a)(g.a)),v=Object(l.b)(null,(function(e){return function(e){b.ref("/").on("child_added",(function(t){e({type:"add task",task:t.val()})}))}(e),{}}))((function(e){var t=Object(u.a)({initialValues:{name:"",author:"",length:"",status:""},validationSchema:c.a({name:c.b().min(3,"Must be at least 3 characters long").max(15,"Must be shorten than 15 characters").required("Required"),author:c.b().min(3,"Must be at least 3 characters long").max(15,"Must be shorten than 15 characters").required("Required"),length:c.b().matches(/^[0-9]*$/,"Must be a number").required("Required"),status:c.b().required("Required")}),onSubmit:function(e){!function(e){var t=Object(d.a)();h.ref("/".concat(t)).set({task:e.name,author:e.author,length:e.length,status:e.status,id:t})}({name:e.name,author:e.author,length:e.length,status:e.status})}});return r.a.createElement("form",{className:"aside-form",onSubmit:t.handleSubmit},r.a.createElement("label",{htmlFor:"name",className:t.errors.name?"label-error":null},"Book name",t.touched.name&&t.errors.name?r.a.createElement("div",{className:"error"},t.errors.name):null),r.a.createElement("input",Object.assign({className:t.errors.name?"input-error":null,id:"name",type:"text"},t.getFieldProps("name"))),r.a.createElement("label",{htmlFor:"author",className:t.errors.author?"label-error":null},"Author name",t.touched.author&&t.errors.author?r.a.createElement("p",{className:"error"},t.errors.author):null),r.a.createElement("input",Object.assign({className:t.errors.author?"input-error":null,onChange:t.handleChange,id:"author",type:"text"},t.getFieldProps("author"))),r.a.createElement("label",{className:t.errors.length?"label-error":null,htmlFor:"length"},"Book length",t.touched.length&&t.errors.length?r.a.createElement("p",{className:"error"},t.errors.length):null),r.a.createElement("input",Object.assign({className:t.errors.length?"input-error":null,id:"length",type:"text"},t.getFieldProps("length"))),r.a.createElement("div",{className:"radio-btn-container"},r.a.createElement("label",{className:t.errors.status?"label-error":null},"Did u read the book?",t.touched.status&&t.errors.status?r.a.createElement("div",{className:"error"},t.errors.status):null),r.a.createElement("div",{className:"RadioButton"},r.a.createElement("input",{id:"1",name:"status",onChange:t.handleChange,value:"Yes",type:"radio",defaultChecked:"Yes"===t.values.gender}),r.a.createElement("label",{htmlFor:"1"},"Yes")),r.a.createElement("div",{className:"RadioButton"},r.a.createElement("input",{id:"2",name:"status",onChange:t.handleChange,value:"No",type:"radio",defaultChecked:"No"===t.values.gender}),r.a.createElement("label",{htmlFor:"2"},"No"))),r.a.createElement("button",{className:"submit-book-button",type:"submit"},"Submit"))}));a(102);var E=function(e){return r.a.createElement("aside",{className:"Aside"},r.a.createElement("h1",{className:"Aside-title"},"MyBooks"),r.a.createElement(v,null))},N=a(74),y=a(75),j=a(79),O=a(78),B=(a(103),a(104),Object(l.b)(null,(function(e){return function(e){b.ref("/").on("child_removed",(function(t){e({type:"remove task",task:t.val()})}))}(e),function(e){b.ref("/").on("child_changed",(function(t){e({type:"update task",task:t.val()})}))}(e),{}}))((function(e){return r.a.createElement("div",{className:"Book"},r.a.createElement("h2",{className:"Book-title"},e.name),r.a.createElement("p",{className:"Book-author"},"Author: ",e.author),r.a.createElement("p",{className:"Book-lenght"},"Pages: ",e.length),r.a.createElement("p",{className:"Book-status"},"Readed: ",e.status),r.a.createElement("div",{className:"Book-btn-container"},r.a.createElement("button",{className:"Book-btn change",onClick:function(){return t=e.id,a=e.status,void h.ref("/".concat(t)).update({status:"Yes"===a?"No":"Yes"});var t,a}},"Change Status"),r.a.createElement("button",{className:"Book-btn",onClick:function(){return t=e.id,void h.ref("/".concat(t)).remove();var t}},"Delete book")))}))),C=function(e){Object(j.a)(a,e);var t=Object(O.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("main",{className:"Main"},this.props.tasks.map((function(e){return r.a.createElement(B,{key:e.id,id:e.id,name:e.task,author:e.author,length:e.length,status:e.status})})))}}]),a}(r.a.Component),F=Object(l.b)((function(e){return{tasks:e}}),(function(e){return e((function(e){var t=[];b.ref("/").once("value",(function(e){e.forEach((function(e){var a=e.val();t.push(a)}))})).then((function(){return e(function(e){return{type:"get tasks",tasks:e}}(t))}))})),{}}))(C),M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(F,null))};o.a.render(r.a.createElement(l.a,{store:k},r.a.createElement(M,null)),document.getElementById("root"))},80:function(e,t,a){e.exports=a(105)},85:function(e,t,a){},86:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.9bcce934.chunk.js.map